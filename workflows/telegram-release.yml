name: Telegram Release

on:
  release:
    types: [published]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send release message to Telegram
        env:
          BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
        run: |
          VERSION="${GITHUB_REF##*/}"
          DATE=$(date +"%Y-%m-%d")
          REPO_URL="https://github.com/${GITHUB_REPOSITORY}"

          TEXT="ğŸš€ NeoPanel4R â€“ New Release

ğŸ”– Version: ${VERSION}
ğŸ“… Date: ${DATE}

âœ… Clean & readable firmware  
âœ… Reliable for production use  
âœ… Designed for stability, not demos

ğŸ”— GitHub (docs & releases):
${REPO_URL}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ‡®ğŸ‡· Ù†Ø³Ø®Ù‡ ÙØ§Ø±Ø³ÛŒ

ğŸš€ Ø§Ù†ØªØ´Ø§Ø± Ø¬Ø¯ÛŒØ¯ NeoPanel4R

ğŸ”– Ù†Ø³Ø®Ù‡: ${VERSION}
ğŸ“… ØªØ§Ø±ÛŒØ®: ${DATE}

â€¢ ÙØ±ÛŒÙ…ÙˆØ± ØªÙ…ÛŒØ² Ùˆ Ù‚Ø§Ø¨Ù„ ÙÙ‡Ù…  
â€¢ Ù¾Ø§ÛŒØ¯Ø§Ø± Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù‡Ø§ÛŒÛŒ  
â€¢ Ø·Ø±Ø§Ø­ÛŒâ€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ IoT  
â€¢ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± ESP8266  

ğŸ”— Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ (Ù…Ø³ØªÙ†Ø¯Ø§Øª Ùˆ Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§):
${REPO_URL}

ğŸŒ Website:
https://iot-smart.ir"

          curl -s -X POST "https://api.telegram.org/bot${BOT_TOKEN}/sendMessage" \
          -d chat_id="${CHAT_ID}" \
          --data-urlencode text="${TEXT}"
